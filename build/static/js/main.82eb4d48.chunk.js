(this["webpackJsonpreact-take-home"]=this["webpackJsonpreact-take-home"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports={nominee:"Nominee_nominee__2P7PF",poster:"Nominee_poster__2Pqcc",selected:"Nominee_selected__180d7"}},function(e,t,n){e.exports={button:"Button_button__2SZ4k",nominee:"Button_nominee__1XWdB Button_button__2SZ4k",close:"Button_close__3D0LI",submit:"Button_submit__18ks_ Button_button__2SZ4k"}},function(e,t,n){e.exports={overlay:"Modal_overlay__1UzxN",modal:"Modal_modal__3Sw5R",content:"Modal_content__6ekOf"}},,,function(e,t,n){e.exports={"nominee-container":"Category_nominee-container__2ymBd"}},function(e,t,n){e.exports={title:"Title_title__27lU8",app:"Title_app__1Kn5L Title_title__27lU8",category:"Title_category__3GvbL Title_title__27lU8",nominee:"Title_nominee__31YbW Title_title__27lU8",results:"Title_results__3tL7- Title_title__27lU8"}},,function(e,t,n){e.exports={ballot:"Ballot_ballot__3R_4r"}},function(e,t,n){e.exports={selection:"Results_selection__2ZrqY"}},function(e,t,n){e.exports={app:"App_app__101rE"}},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(17),r=n.n(o),i=(n(25),n(2)),s=n(14),l=n(5),u=n(7),b=n(4),j=n(9),d="14ac79b8",_={getBallotData:function(){return Object(u.a)(Object(l.a)().mark((function e(){var t,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([fetch("http://www.omdbapi.com/?s=california&page=".concat(1,"&apikey=",d)),fetch("http://www.omdbapi.com/?s=california&page=".concat(2,"&apikey=",d)),fetch("http://www.omdbapi.com/?s=california&page=".concat(3,"&apikey=",d))]);case 3:return t=e.sent,e.next=6,Promise.all(t.map((function(e){return e.json()})));case 6:return n=e.sent,e.abrupt("return",n.reduce((function(e,t){return e.push.apply(e,Object(j.a)(t.Search)),e}),[]));case 10:e.prev=10,e.t0=e.catch(0),alert("ballot data failed to load, please reload the page");case 13:return e.abrupt("return",void 0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()}},m=(n(26),n(27),n(18)),p=n.n(m),O=Object(c.createContext)(void 0);var f=n(15),x=n.n(f),h=n(3),v=n.n(h),g=n(10),N=n.n(g),y=n(11),k=n.n(y),S=n(0),w=function(e){var t=e.text,n=e.className,c=void 0===n?"":n,a=e.onClick,o=void 0===a?function(){}:a;return Object(S.jsx)("button",{className:v()(k.a.button,k.a[c],k.a.hovered),onClick:o,type:"button",children:t})},B=n(16),C=n.n(B),T=function(e){var t=e.text,n=e.headingLevel,c=void 0===n?1:n,a=e.className,o=void 0===a?"":a,r="h".concat(c);return Object(S.jsx)("div",{className:v()(C.a.title,C.a[o]),children:Object(S.jsx)(r,{children:t})})},L=function(e){var t=e.title,n=e.imageUrl,a=e.category,o=e.selected,r=Object(c.useContext)(O),s="N/A"!==n;return Object(S.jsxs)("div",{className:v()(N.a.nominee,Object(i.a)({},N.a.selected,o)),children:[Object(S.jsx)(T,{className:"nominee",headingLevel:3,text:t}),s&&Object(S.jsx)("div",{alt:"".concat(t," movie poster"),className:N.a.poster,role:"img",style:{backgroundImage:"url(".concat(n,")")}}),Object(S.jsx)(w,{className:"nominee",onClick:function(){return null===r||void 0===r?void 0:r.chooseSelection(a,t)},text:"Select Nominee"})]})},P=function(e){var t=e.category,n=e.nominees,a=Object(c.useContext)(O);return Object(S.jsxs)("section",{className:x.a.category,children:[Object(S.jsx)(T,{className:"category",headingLevel:2,text:t}),Object(S.jsx)("div",{className:x.a["nominee-container"],children:n.map((function(e){return Object(S.jsx)(L,{category:t,imageUrl:e.Poster,selected:(null===a||void 0===a?void 0:a.userSelection[t])===e.Title,title:e.Title},e.imdbID)}))})]})},M=function(e){var t=e.ballot;return Object(S.jsx)("div",{className:p.a.ballot,children:t.length>0&&t.map((function(e){return Object(S.jsx)(P,{category:e.category,nominees:e.items},e.id+e.category)}))})},U=n(19),A=n.n(U),D=function(e){var t=e.userSelection;return Object(S.jsx)("div",{children:Object.entries(t).map((function(e){var t=Object(b.a)(e,2),n=t[0],c=t[1];return Object(S.jsxs)("div",{children:[Object(S.jsx)(T,{className:"results",headingLevel:3,text:n}),Object(S.jsxs)("p",{className:A.a.selection,children:[c,"test"]})]},"result-".concat(n))}))})},F=n(12),I=n.n(F),Z=function(e){var t=e.showModal,n=e.setShowModal,c=e.children;return t?Object(S.jsx)("div",{className:I.a.overlay,children:Object(S.jsxs)("div",{className:I.a.modal,children:[Object(S.jsx)(w,{className:"close",onClick:function(){return n(!1)},text:"X"}),Object(S.jsx)("div",{className:I.a.content,children:c})]})}):null},E=n(20),R=n.n(E),q=function(e){for(var t=["Best Actor","Best Picture","Best Director","Best Actress","Best Supporting Actor"],n=e.slice(0,25),c=[],a=0;a<n.length;a+=5)c.push({category:t[a/5],id:a/5+1,items:Object(j.a)(n.slice(a,a+5))});return c},J=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)({}),r=Object(b.a)(o,2),j=r[0],d=r[1],m=Object(c.useState)(!1),p=Object(b.a)(m,2),f=p[0],x=p[1];Object(c.useEffect)((function(){var e=!0;Object(u.a)(Object(l.a)().mark((function t(){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.getBallotData().then((function(t){if(t&&e){var n=q(t);a(n)}}));case 2:return t.abrupt("return",(function(){e=!1}));case 3:case"end":return t.stop()}}),t)})))()}),[]);var h=Object(c.useCallback)((function(e,t){d(Object(s.a)(Object(s.a)({},j),{},Object(i.a)({},e,t)))}),[j,d]),v=Object(c.useMemo)((function(){return{chooseSelection:h,userSelection:j}}),[h,j]),g=j&&Object.keys(j).length>=5;return Object(S.jsxs)("div",{className:R.a.app,children:[Object(S.jsx)(Z,{setShowModal:x,showModal:f,children:Object(S.jsx)(D,{userSelection:j})}),Object(S.jsx)(T,{className:"app",headingLevel:1,text:"Awards 2022"}),Object(S.jsx)(O.Provider,{value:v,children:Object(S.jsx)(M,{ballot:n})}),g&&Object(S.jsx)(w,{className:"submit",onClick:function(){return x(!0)},text:"Submit Selection"})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))};r.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(J,{})}),document.getElementById("root")),W()}],[[29,1,2]]]);
//# sourceMappingURL=main.82eb4d48.chunk.js.map